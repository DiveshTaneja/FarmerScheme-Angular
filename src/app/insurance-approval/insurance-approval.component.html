<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<br>
        <br>
        <br>
<div class="box">
    <h1 style="text-align: center; font-weight: bolder; color: black; font-size: 50px;">ðŸ“‹ Insurance <span style="color: green;">Approval</span></h1> <br>
        
</div>
<br>
        <br>
        <br>
<span>

</span>
<div>
    <table class="main">
            <thead>
                <tr>
                    <th>Insurance ID</th>
                    <th>Insuree Name</th>
                    <th>Farmer ID</th>
                    <th>Area</th>
                    <th>Crop Name</th>
                    <th>Crop Type</th>
                    <th>Sum insured</th>
                    <th>Estimated amount</th>
                    <th>Approved Status</th>
                </tr>
            </thead>

            <tbody >
                <tr *ngFor = "let i of insurances"> 
                    <td>{{i?.insuranceId}}</td>
                    <td>{{i?.insureeName}}</td>
                    <td>{{i.farmer?.farmerId}}</td>
                    <td>{{i?.area}}</td>
                    <td>{{i?.cropName}}</td>
                    <td>{{i?.croptype}}</td>
                    <td>{{i?.sumInsured}}</td>
                    <td>{{i?.estimatedamount}}</td>
                    <td>{{i?.approvedstatus}}</td> 
                </tr>
            </tbody>
    </table>
</div>
<br>
<button class = "approve" (click)="approve()">
  Approve Insurance
</button>
<br>
<br>
<div *ngIf="div1" >
<form (ngSubmit)="approveInsurance()">
    <div class="login-box" style=" border-radius: 5%; box-shadow: black;">
        <!-- <img src="assets/farmer.jpg" width="135" height="135" style="display: block; margin-left: auto; margin-right: auto;"> -->
        <h1 style="margin-left: 100px;">Update <span style ="color:green;">Status</span></h1>
        
        <!-- <label for="t1"> Insuree Id:</label> -->
      <input  
              type = "number" 
              name = "t1" 
              [(ngModel)] = insurance.insureeId
              required
              minlength="3"
              #iiname = "ngModel" 
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Insuree Id"         
      /><br><br>
      <!-- <label for="t2"> Farmer Id:</label> -->
      <input  
              type = "number" 
              name = "t2" 
              [(ngModel)] = insurance.farmerId
              required
              minlength="3"
              #ifname = "ngModel" 
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                placeholder="Farmer ID"          
      /><br><br>
      <div 
              *ngIf = "ifname.invalid && (ifname.dirty || ifname.touched)"
              class = "alert">
          
          <div *ngIf="ifname.errors?.required">
                Farmer Id is Required!
          </div>
          
          <div *ngIf = "ifname.errors?.minlength">
                Farmer Id must be atleast 3 characters long
          </div>

      </div>
        <!-- <label for="t3"> Insuree Name:</label> -->
      <input  
              type = "text" 
              name = "t3" 
              [(ngModel)] = insurance.insureeName
              required
              minlength="3"
              #iname = "ngModel"        
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Insuree Name"   
      /><br><br>
      <div 
              *ngIf = "iname.invalid && (iname.dirty || iname.touched)"
              class = "alert">
          
          <div *ngIf="iname.errors?.required">
                Insuree Name is Required!
          </div>
          
          <div *ngIf = "iname.errors?.minlength">
                Insuree Name must be atleast 3 characters long
          </div>

      </div>

      <!-- <label for="t4"> Area(in sqft):</label> -->
      <input  
              type = "number" 
              name = "t4" 
              [(ngModel)] = insurance.area
              required
              minlength="3"
              #area = "ngModel"    
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Area"       
      /><br><br>
      <div 
              *ngIf = "area.invalid && (area.dirty || area.touched)"
              class = "alert">
          
          <div *ngIf="area.errors?.required">
                Area is Required!
          </div>
      </div>

      <!-- <label for="t5"> Crop Name:</label> -->
      <input  
              type = "text" 
              name = "t5" 
              [(ngModel)] = insurance.cropName
              required
              minlength="3"
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Crop Name" 
              #cname = "ngModel"          
      /><br><br>
      <div 
              *ngIf = "cname.invalid && (cname.dirty || cname.touched)"
              class = "alert">
          
          <div *ngIf="cname.errors?.required">
                Crop Name is Required!
          </div>
      </div>

      <!-- <label for="t6"> Crop Type:</label> -->
      <select [(ngModel)]= insurance.croptype name = "t3" style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 245px; ">
        <option value="" disabled selected>Crop Type</option> 
        <option value="Kharif">KHARIF</option>
        <option value="Rabi">RABI</option>    
        <option value="Horiculture">HORICULTURE</option>  
                                                
    </select>       
    <br><br>

      <!-- <label for="t7"> Sum Insured:</label> -->
      <input  
              type = "number" 
              name = "t7" 
              [(ngModel)] = insurance.sumInsured 
              required
              #quan = "ngModel"   
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Sum Insured"        
      /><br><br>
      <div 
              *ngIf = "quan.invalid && (quan.dirty || quan.touched)"
              class = "alert">
          
          <div *ngIf="quan.errors?.required">
                Sum  is Required!
          </div>

      </div>
      <!-- <label for="t8"> Estimated amount </label> -->
      <input  
              type = "number" 
              name = "t8" 
              [(ngModel)] = insurance.estimatedamount 
              required
              #am = "ngModel"     
              style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 210px;"
                 placeholder="Estimated amount"  
      /><br><br>
      <div 
              *ngIf = "am.invalid && (am.dirty || am.touched)"
              class = "alert">
          
          <div *ngIf="am.errors?.required">
                Amount is Required!
          </div>
      </div> 
       <div>
        <!-- <label for="t9"> Update Status: </label>
        <input  
                type = "text" 
                name = "t9" 
                [(ngModel)] = insurance.approvedstatus
 
                required
                #am = "ngModel"          
          /> -->
          <select [(ngModel)]= insurance.approvedstatus name = "t9" style="margin-left: 20px; padding: 8px; padding-left: 20px; padding-right: 308px;">

            <option value="true">TRUE</option>
            <option value="false">FALSE</option>    
                                                    
        </select>
          <br><br>
        </div>
      <!-- <div class="form-group form-check">
        <button (click)="calculation()" class="btn btn-light btn-lg"
            style=" height:30px; width: 250px;border-radius: 10%; margin-top: 10px; color: rgb(255, 254, 254); background-color: rgb(231, 19, 19);"
            >Calculate Estimated Amount and Sumbit</button><br><br>
     -->
     <button class = "submit approvestatus"
              type="submit" > Submit
      </button>
</div>
